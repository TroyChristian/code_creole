{% load static %}
{% load i18n %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Creole home</title>
     <link rel="stylesheet" href="{% static 'css/home.css' %}">
     <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
     <!---
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"> -->
</head>
<body>
    <div class="content">
        <div class="home_nav_con">
            <div class="sub_con">
                    <div class="img_div"><img class="header_logo" id="header_logo" src="/static/css/code_creole_log.png" alt="code creole logo"></div>
                <div class="grid_box">
                
                    <div class="">
                    <h2 class="nav_title">Code Creole</h2>
                    <h4 class="sub_title">{% trans "source" %}</h4>
                    </div>
                    <div class="search_con">
                        <input type="text" class="search-input" placeholder="Search...">
                        <button class="search-button">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>

                <div class="controls">
                    <div class="sign_in">
                        <button>Sign In</button>
                    </div>

                    <div class="language">
                        <form action="/i18n/setlang/" method="post" id="language_form">
                        {% csrf_token %}
                        <input name="next" type="hidden" value="{% url 'home'  %}"/>
                        <select name="language" onchange="changeLanguage()">
                            {% get_current_language as LANGUAGE_CODE %}
                            {% get_available_languages as LANGUAGES %}
                            {% for lang in LANGUAGES %}
                                <option value="{{ lang.0 }}" {% if lang.0 == LANGUAGE_CODE %} selected {% endif %}>
                                    {{ lang.1 }}
                                </option>
                            {% endfor %}
                        </select>
                    </form>

                     
                    </div>
                    
                    <div class="categories">
                        <div class="category_select">
                            <select name="" id="">
                                <option value="">Python</option>
                                <option value="">Django</option>
                                <option value="">Linux</option>
                                <option value="">SSH</option>
                                <option value="">JavaScript</option>
                                <option value="">HTML</option>
                                <option value="">CSS</option>
                            </select>
                        </div>
                    </div> <!--this is the closing tag for categories div-->
                    
                </div>
                
            </div>
        </div>


        <div class="home_dashboard">
            {% for article in articles %}
            {% if forloop.first %}
            <div class="num1_articles_con ">
                <a href="{{ article.get_absolute_url }}">
                <div class="num1_article">
                    <a href="{{ article.get_absolute_url }}" class="art1_link">
                     <img class="thumb_nail" src="static\css\Untitled.jpeg"> 
                    </a>
                                
                    <div class="container">
                        <h3>{{ article.get_title }}</h3>
                        <div class="author">
                            <p> {% trans "Created by" %}: {{ article.created_by.username }}</p> 
                            <br>
                            <p> {% trans "Contributers" %}:  {% for contributor in article.get_contributors %}
                             {{ contributor.username }}
                            {% endfor %}</p>
                        </div>
                        
                        <div class="text">
                            <p>{{ article.get_content }}</p>
                        </div>

                        
                            
                            <div class="info">
                                <div class="img_div">
                                    <img class="sub_logo" src="/static/css/code_creole_log.png">
                                </div>
                                <div class="text_div flex_row">
                                    <p class="name">Code Creole</p>
                                    <p class="date">05/12/23</p>
                                    <p class="time_to_read"> {% trans "time_to_read" %} {{article.time_to_read}} {% trans "minutes" %}</p>
                                </div>
                                
                            </div>

                        
                        
                        
                    </div>
                </div>

            </div> <!---end tag for most recently created article.--->
            {% else %} <!-- if the article is not the most recently created, apply secondary styling -->

            <div class="articles_con "> <!-- all of the articles older than the most recently created should be in this div or recieve its stylings -->

                

                <div class="article">
                    <a href="http://">
                        <img class="thumb_nail" src="static\css\Untitled.jpeg">
                        <p>Python 101</p>
                    </a>
                    <div class="author_block ">
                        <p>by: Troy Christian</p>
                        <p>, Tyler Christian</p>
                    </div>
                    <div class="extras">
                        <img class="sub_logo" src="/static/css/code_creole_log.png">
                        <div class="extras-sub">
                            <p class="name">Code Creole</p>
                            <div class="flex_div">   
                                <p class="time_to_read">10 mins to read</p>
                                <p class="date">05/12/23</p>
                            </div>
                           
                        </div>
                    </div>
                </div>



            </div> <!---the end of the three row stacks--> 
            {% endif %} <!-- ending the check if the article is the first in the queryset --> 
            {% endfor %}

        </div><!----this div-tag is the closing tag for home dashboard
                    this div is the parent div that contains the links
                    to articles and the side pannel for the tags and categories-->
                   
    <div class="pagination w3-bar">
        <a href="#" class="w3-button w3-hover-white">&laquo;</a>
        <a href="#" class="w3-button w3-white w3-hover-white">1</a>
        <a href="#" class="w3-button w3-hover-white">2</a>
        <a href="#" class="w3-button w3-hover-white">3</a>
        <a href="#" class="w3-button w3-hover-white">4</a>
        <a href="#" class="w3-button w3-hover-white">&raquo;</a>
    </div>
    </div>
    <footer>
        <div class="footer" href="https://twitter.com/CodeCreole1804" target="_blank">
            <a> {% trans "About Code Creole" %}</a>
            <a> {% trans "Contact Us" %}</a>
            <a class="social"> 
                <div>
                 <p> {% trans "Follow Us" %}:</p>
                 <img class="social_icon" src="static/css/x_logo.jpeg">
                </div>
            </a>

            <a class="social" href="https://www.youtube.com/@CodeCreole" target="_blank"> 
                <div>
                
                 <p>{% trans "Follow Us" %}:</p>
                 <img class="social_icon" src="static\css\youtube-music-logo-youtube.png">
             
                </div>
            </a>
        </div>
    </footer>
    <!--- javascript tag --->
    <script src="/js/home.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    <!-- javascript for toggling currently selected language -->
    <script>
function changeLanguage() {
    document.getElementById('language_form').submit();
}
</script>

</body>
</html>